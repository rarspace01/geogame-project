\chapter{Lösungsansatz}
\label{ch:S4_Lösungsansatz}

\section{Mögliche Lösungen}
\label{ch4:s:Lösungen}

\subsection*{Gamification}


Im Hinblick auf die Problemstellung in Kapitel \ref{ch2:Problemstellunug}, sowie der in der Literatur beschriebenen Ansätze in Kapitel \ref{ch3:s:Gamification}, ergeben sich mehrere Möglichkeiten für eine Lösung. Ziel ist es die Kunden zum einen zu motivieren neue Geschäfte aufzusuchen und auf der anderen Seite eine Bindung zu bestehenden Geschäften zu erreichen. Da es sich hierbei um um einen Prozess handelt, der für den Kunden im ersten Schritt nur einen geringen Benefit darstellt, ist dieser ideal für Gamification geeignet \cite{Leigh.2012}. Ziel ist es somit die Besuche des Spielers durch eine Gamification interessant zu machen. Dies kann durch die verschiedenen Aspekte wie das Vergeben von Punkten für einen Einkauf (siehe Miles \& More \cite{Wagner.2005}, Payback \cite{Roesl.2005}) erreicht werden. Allerdings sind reine, einfache Punkteprogramme weit verbreitet und deren Nutzen umstritten \cite{Schmitt.2001}.
Daher ist es notwendig, das komplette Spektrum der Gamification zu betrachten.
Über das reine Punkte System hinaus manifestiert sich in der Literatur die Grundmenge \glqq Points, Badges und Leaderboards\grqq.
Konkret bedeutet dies neben der einfachen Ansammlung von Punkten, gibt es darüber hinaus Auszeichnungen welche das Engagement des einzelnen Nutzers widerspiegeln. Ein weiterer Aspekt sind die sogenannten Leaderboards bzw. Bestenlisten. Über diese entsteht ein Ansporn unter den jeweiligen Spielern die anderen Spieler zu übertrumpfen. Bei einem Abgleich der Ansätze mit den typischen Spieler Profilen erkennt man, dass nicht alle dieser mit den einfachen Gamification Elementen bedient werden. Die Spielertypen nach \textcite{Bartle.2004} sind in Abbildung \ref{img:ch4_img01_playertypes} zu sehen.

\begin{figure}[H]
\begin{center}
\includegraphics[width=120mm]{images/ch4_img01_playertypes.png}
\caption{Spielertypen nach \textcite{Bartle.2004}}
\label{img:ch4_img01_playertypes}
\end{center}
\end{figure}

Die rudimentären Elemente der Gamification richten sich vor allem an Achievers und Killers.
Die Frage stellt sich hierbei, wie Socializers und Explorers erreicht werden können.
Hierzu kann das von \cite{Zichermann.2011} in Kapitel \ref{ch3:s:Gamification} erweiterte Modell SAPS genutzt werden, welches auch auf die Interaktion unter den Menschen eingeht. Im konkreten Beispiel schlägt Zichermann vor, den Spielern die Möglichkeit zu geben bestimmte Positionen innerhalb eines Spiels einzunehmen. Durch diese sollen einzelne Spieler eine höhere Position erhalten als andere und damit auch eine Interaktion untereinander fördern. Damit können zu einem gewissen Teil die Socializers abgedeckt werden.
Es ist jedoch zu beachten, dass für die vollständige Abdeckung aller Spielertypen konkret eine Spielmechanik erarbeitet werden muss, welche die übrigen zwei Spielertypen explizit bedient. Eine Möglichkeit die Interaktion zwischen den Spielern zu steigern sind Teams bzw. Gilden. Durch diese können die Spieler gemeinsam aktiv handeln. Gemeinsame Ziele können so einfacher verfolgt werden aber auch speziell durch das Spiel ein Zusammenhalt explizit gefördert werden. Dies kann z.\,B. anhand von Bonuspunkten oder einer Spielmechanik die kooperatives Spiel voraussetzt. Ein Beispiel hierfür ist das Spiel Ingress von Google welches für die Erstellung von Portalen im späteren Spiel umso mehr Spieler benötigt, je höher dessen Level sein soll.\cite{Celino.2013}
Andere Ansätze sind kooperative Quests, Handel von Spielitems, sowie das Fördern von Kommunikation zwischen den einzelnen Spielern. \cite{Caon.2013} Ein weiterer Aspekt sind neue Bekanntschaften, die durch ortsbezogene Spiele gemacht werden. In einer Umfrage von 6400 Ingress Spielern gaben dabei 84\% an neue Leute kennen gelernt zu haben. Dies zählten sie zu einem der wichtigsten Faktor des Spiels.\cite{Ingress.2014}
Explorer-Spieler untersuchen Ihre Umgebung und möchten neue Dinge entdecken. Sie fragen nach zusätzlichen Informationen. Für diese Spieler ist es z.\,B. interessant neue unbekannte Orte innerhalb des Spiels zu entdecken.

Dass die einzelnen Spielertypen nicht zu vernachlässigen sind wird in \textcite{Bromley.2013} deutlich. Hierbei stellt der Autor am Beispiel von GoPets fest, dass durch die Orientierung an konkrete Spielertypen ein beachtliche Umsatzsteigerung erzielt werden kann. Allerdings ist es wichtig für den Erfolg eines Spieles, dass alle Spielertypen adressiert werden.\cite{Bethke.2007}
\\\\
Nachdem die (Spiel-)Elemente der Gamification selbst identifiziert wurden, muss untersucht werden, wie die Interaktion der Spieler mit dem lokalen Einzelhandel aussehen kann.
Der Unterschied des Einzelhandels im Vergleich zum Onlinehandel ist der geografische Besuch vor Ort. Der Kunde muss physisch vor Ort sein, um eine Dienstleistung wahrzunehmen oder ein Produkt zu kaufen. Daher ist es für den jeweiligen Händler von besonderem Interesse, dass ein potentieller Kunde sein Geschäft betritt.
Ziel ist es somit, den Spieler durch die Spielmechanik in das jeweilige Geschäft zu bringen.
Hierbei gibt es zwei Mögliche Ansätze für ein ortsbezogenes Spiel. In der ersten und einfachsten Möglichkeit tritt das Geschäft selbst als festes Spielelement auf, dass direkt zum Spielerfolg beiträgt. In diesem Fall repräsentiert das Geschäft zum Beispiel ein TicTacToe Feld. Eine andere Möglichkeit ist es die Spieler indirekt zu unterstützten. In diesem Fall tritt das Geschäft z.\,B. als virtueller laden im Spiel auf, über den die Spieler entsprechende Items kaufen können.
Welche der beiden Möglichkeiten in Frage kommt, hängt von der Intention des einzelnen Händlers ab. Steht der Fokus des Spiels auf einem Kontakt mit dem Spielelement, so 
muss sicher gestellt werden, dass dieser auch stattgefunden hat. Der Spieler sollte nicht einfach nur das Geschäft aufsuchen und dann wieder direkt verlassen. Im schlimmsten Fall kann dies dazu führen, dass normale Kunden, die nicht am Spiel teilnehmen, sich durch die Spieler gestört fühlen.
Da es hierfür keinerlei Erwartungswerte gibt, ist der Aspekt schwer abzuschätzen. Allerdings wäre eine mögliche Gegenmaßnahme, die Verweildauer der Spieler zu erhöhen. Dies könnte beispielsweise durch  ein kleines Rätsel oder durch eine Interaktion im entsprechenden Raum aufhalten sichergestellt werden.
Eine weiter Möglichkeit für den Händler ist die bevorzugte Behandlung von wiederkehrenden Spielern. Ein Konzept das z.\,B. bei Foursquare verwendet wird ist der Mayor einer Location. Der Mayor stellt dabei die Person,da welche die Lokalität innerhalb der letzten 60 Tage am häufigsten besucht hat. Diesem kann ein Händler über Foursquare besonderes Angebot machen, wie zum Beispiel ein Kaffee zum halben Preis.\cite{Lindqvist.2011} Ähnliche Konzepte können hier ebenfalls verwenden werden.
\\\\
Da das Hauptaugenmerk darauf liegt, dass der Spieler mit dem jeweiligen Geschäft interagiert, muss sichergestellt werden, dass dieser physisch vor Ort ist. 
Um dies sicherzustellen, gibt es mehre Möglichkeiten. In der einfachsten Variante werden die GPS-Koordinaten des Endgerätes verwendet. Der Vorteil liegt darin, dass bei den meisten mobilen Betriebssystemen eine A-GPS Implementierung vorliegt. Diese kompensieren die Nachteile von reinem GPS unter Zuhilfenahme einer bestehenden Mobilfunkverbindung. \cite{Djuknic.2001} Allerdings könnte es sein, dass der Empfang in einzelnen Gebäuden eingeschränkt ist und weder eine Verbindung zu GPS-Satelliten noch zum Mobilfunknetz hergestellt werden kann. Darüber hinaus besteht die Problematik, dass die Genauigkeit nicht ausreicht um festzustellen, ob die Person vor dem Geschäft oder im Geschäft selbst ist.
Es muss daher sichergestellt werden, dass der Spieler wirklich im Geschäft selbst ist.
Hier zu können QR-Codes verwenden werden. Diese lassen sich entsprechend abscannen und initiieren dann eine Interaktion über eine URL oder App. Eine neue Möglichkeit stellt NFC dar.\cite{Rashid.2006b} Über diese kann im Bereich von bis zu 20cm eine Interaktion stattfinden.\cite{Coulton.2006} Die passiven NFC Tags arbeiten in diesem Zusammenhang ähnlich wie QR Codes. Sie haben die gleichen Funktionalitäten. Der Unterschied liegt darin, dass die Daten nicht per Kamera sondern per NFC erfasst werden. Diese Ansätze breiten sich aktuell im Handel immer mehr aus \cite{Heinemann.2014}. In Seoul gibt es z.\,B. virtuelle Regale, bei denen es sich um Werbeposterflächen handelt. Über diese Regale kann mittles QR-Code bestellt werden.\cite{Tesco.2012} Diese werden vor allem in besonders gerne während des Feierarbendverkehrs genutzt.
Eine neue Technologie die neben den QR-Codes und NFC zum Einsatz kommen könnte sind Bluetooth Low Energy Devices (BLE). Apple setzt bereits diese seit Ende 2013 in den Applestores ein und einige Startups sehen in der Technologie eine Möglichkeit den lokalen Einzelhandel mit dem Online Geschäft zu verbinden. Konkret handelt es sich dabei um passive BLE Geräte welche eine Reichweite von bis zu 30 Meter haben können. Deren Entfernung kann über eine Approximierung der Signalstärke und der übermittelten Referenzsignalstärke angegeben wird.\cite{Do.2013} Durch den Einsatz von mehreren sogenannter Beacons kann ähnlich wie bei GPS durch Lateration eine Indoor Positionierung erreicht werden.\footnote{Eine Proof of Concept Anwendung wurde außerhalb des Rahmens dieser Arbeit vom Autor erstellt.} Somit könnte der konkrete Aufenthaltsort des Spielers in einem speziellen Bereich belohnt werden. Ein Beispiel wäre die Herrenmode-Abteilung, in der sich der Kunde länger als 10 Minuten aufgehalten hat.
\\\\
Ein Aspekt der nicht außer Acht gelassen werden darf, ist das Schummeln von Spielern. Dieses ist bei Spielen, bei denen es darum geht mit anderen Spielern zu konkurrieren, immer  gegeben.\cite{Consalvo.2005} Ein besonderer Augenmerk gilt hier dem Multiplayer Cheating. Dabei geht es konkret um eine Vorteilsnahme gegenüber den anderen teilnehmenden Spielern.
\textcite{Yan.2005} identifizieren mehrere Möglichkeiten des Cheatings. Für diese gibt es jeweils entsprechende Gegenmaßnahmen. Als Grundsatz kristallisiert sich heraus, dass der Schutz eines Spiels sich proportional zum investierten Aufwand verhält. Gegen entsprechende Versuche der Manipulation ist kein System sicher. Hierbei handelt es sich um einen fließenden Prozess.
Jeder Spielebetreiber muss basierenden auf seinen verfügbaren Resourcen entscheiden, welche Methoden dieser einsetzten möchte. 

Auch ortsbezogene Spiele bleiben vor Manipulationen nicht verschont wie \textcite{He.2011} untersucht haben.
In diesem Fall ist ein erster Ansatzpunkt die maximale Fortbewegungsgeschwindigkeit. Kombiniert man diese mit der Spielmechanik, so reduziert sich auch der \glqq Vorteil\grqq{} durch das Cheaten. Ein Beispiel wäre eine Mindestaufenthaltsdauer für die die Einnahme eines POIs.
Eine Einsatz von Rätseln kann über die Pause vor Ort hinweg helfen und das Spiel spannender machen.

%
\subsection*{Anforderungen an ein Geogameframework}

Für die Umsetzung eines Geogameframeworks muss zunächst untersucht werden welche Anforderungen an ein solches gestellt werden.
Im Hinblick auf die in Kapitel~\ref{ch2:Problemstellunug} beschriebene Problemstellung sollen die Anforderungen  identifiziert und im Anschluss analysiert werden. Im nachfolgenden soll auf die Aspekte eines Gameframeworks eingegangen werden sowie entsprechende Lösungen für die Problemstellung.
\\\\
Ziel ist es ein ortbezogenes Spiel zu entwickeln, welches dazu führt, dass die Spieler lokale Dienstleister/Einzelhändler vermehrt aufsuchen. Das Gameframework soll in diesem Fall einem Spielleiter bei der Durchführung eines Spieles unterstützen. Dadurch soll der Aufwand um ein vielfaches reduziert werden.
Dem Spielleiter sollen die Arbeitsschritte für die Selektion der Spielelemente anhand von Geodaten und der Durchführung abgenommen werden. Ziel ist es, dass der Spielleiter selbst mit möglichst geringen Technischen Kenntnissen ein entsprechendes Spiel durchführen kann. Daher halten wir als ersten Aspekt das einfache Staging der Spiele fest.
\\\\
Für die Steigerung der Interaktion von potentieller Kunden wurde die Gamification und letztendlich die konkrete Spielmechanik in Kapitel \ref{ch3:s:Gamification} identifiziert. Um diese entsprechend umsetzten zu können, muss ein entsprechendes Framework nicht nur entsprechende Logik, sondern auch die entsprechenden Daten inne halten. Abhängig wie hoch der Flexibilitäts-Anspruch an das Frameworks ist, müssen Spiel-Logik und Spiel-Daten voneinander getrennt werden. Soll das Framework nur für eine geringe Zahl ähnlicher Spiele verwendet werden, kann es sinnvoll sein die Funktionen und Datenstruktur direkt in das Framework einzuplanen. Ist dagegen der Plan ein Framework zu entwickeln, welches möglichst generisch arbeitet und später eine Vielzahl an unterschiedlichen Spielen unterstützten soll, dann ist eine entsprechende Modularisierung der einzelnen Funktionen unerlässlich.
\\\\
Bei der Durchführung eines ortsbezogenen Spiels muss ein Framework mit Geodaten arbeiten.
Dabei ist es unerlässlich, dass das entsprechendes Framework nicht mit einem einfachen kartesischen Koordinaten System arbeitet, sondern ein entsprechendes Referenzsystem wie WGS 84 \cite{Grafarend.1998} und das UTM Koordinaten System \cite{Grafarend.1995} verwendet.
Für das jeweilige zu nutzende System müssen entsprechende Bibliotheken integriert werden, damit entsprechende Operationen wie zum Beispiel Distanzmessung auf den Geodaten durchgeführt werden können.
\\\\
Das Framework muss zudem die Integration vom externen GeoDaten ermöglichen. Bei diesen wird es sich Aufgrund der Ergebnisse in Kapitel \ref{ch3:s:offeneGeodaten} um OSM handeln. Das Framework muss auf Basis der OSM Daten entsprechende Spielfelder aufbereiten. Hierzu müssen die bestehenden Objekttypen Nodes, Ways und Relatitoions in Spielelemente transferiert werden. Hierfür gibt es mehrere Vorgehensweisen.
Zunächst gibt es die Nodes. Diese können direkt als Spielelement dargestellt werden, da Sie analog zu den Spielelementen ein Objekt repräsentieren und ihnen eine direkte Koordinate auf dem Spielfeld zugeordnet werden kann. Es gibt jedoch auch Nodes die Bestandteil eines Ways oder einer Relation sind. Diese sollten nicht als einzelnes Spielelement betrachtet werden.
Die Objekte, die ein Way oder eine Relation in OSM repräsentieren, müssen zu einem Spielement mit nur einer Koordinate transformiert werden. Hierzu müssen alle Nodes innerhalb eines Ways zu einem \glqq virtuellen\grqq{} Node zusammengefasst werden.
Damit die virtuellen NOdes wieder gefunden werden können im System, muss eine Adressierung der virtuellen Nodes ermöglicht werden.
Für die Transformation mehrere Nodes zu einem Element gibt es unterschiedliche Ansätze. Der erste und einfachste stellt ein einfaches Arithmetisches Mittel auf die äußersten Kanten des Ways dar. Dies bedeutet, dass um alle Nodes eines Ways eine Bounding Box gebaut wird. Die beiden Koordinaten, die die Bounding Box begrenzen, werden anschließend mit einem arithmetischen Mittel miteinander zu einem einzelnen Punkt verrechnet. Diese Methode ist besonders einfach und der Punkt liegt immer innerhalb der Bounding Box. Allerdings spiegelt er nicht die Verteilung der einzelnen Objekte wieder und nimmt auf die konkrete geografische Struktur des Ways keine Rücksicht. Im Nachfolgenden ist die Berechnung der Koordinate (x/y) zu sehen:

\begin{equation}
x_{bb} = \frac{max_{i>0; i<=N}(x_i) + min_{i>0; i<=N}(x_i)}{2}
\end{equation}
\\
\begin{equation}
y_{bb} = \frac{max_{i>0; i<=N}(y_i) + min_{y>0; i<=N}(y_i)}{2}
\end{equation}

Eine weitere Methode die diese Unzulänglichkeit behebt stellt der geometrische Schwerpunkt dar.
Bei diesem wird der Massenmittelpunkt des Körpers bestimmt\cite{Papula.2006}. Hierfür ist zunächst die Berechnung der Fläche nötig:

\begin{equation}
A = \frac{1}{2}\sum_{i=0}^{N-1} (x_i\ y_{i+1} - x_{i+1}\ y_i)
\end{equation}

Dieses kann wiederum verwendet werden um das geometrische Gewicht zu ermitteln:

\begin{equation}
x_s = \frac{1}{6A}\sum_{i=0}^{N-1}(x_i+x_{i+1})(x_i\ y_{i+1} - x_{i+1}\ y_i)
\end{equation}

\begin{equation}
y_s = \frac{1}{6A}\sum_{i=0}^{N-1}(y_i+y_{i+1})(x_i\ y_{i+1} - x_{i+1}\ y_i)
\end{equation}

Die jeweiligen x- und y-Koordinaten liefern damit die entsprechenden Koordinaten auf dem Spielfeld.
\\\\
Der Gedanke eines Frameworks zielt auf eine einfache Erweiterbarkeit, Pflege und Wiederverwendbarkeit ab. Daher ist die Erweiterbarkeit für weitere Spiele und Spielmechaniken ein wichtiger Aspekt. Ziel ist es daher ein Grundgerüst zu entwickeln, welches durch entsprechende Anpassung einfach modifiziert werden kann.
Je nach Fokus auf Flexibilität und Umfang des Frameworks, müssen entsprechende Funktionen und Methoden generischer oder spezifischer implementiert werden.
\\\\
Der in Kapitel \ref{ch1:Einleitung} angestrebte Mehrwert des Frameworks, neue und bestehende Kunden an lokale Einzelhändler zu binden, stellt ein wichtiger Aspekt dar. Generell gibt es verschiedene Möglichkeiten wie Lokalitäten in ein Spiel integriert werden können.\cite{Nelson.2002}
Zunächst gibt es die Möglichkeit Werbebanner direkt in Spiele einzubinden.\cite{Nelson.2004} Diese Werbung gleicht der Printwerbung mit dem Unterschied, dass die Sichtbarkeit im Vergleich zu klassischen Medien oder Filmen deutlich erhöht ist.\cite{Edery.2008} Darüber hinaus ist die Sichtbarkeit durch die durchschnittliche Spielzeit deutlich erhöht. Spiele die soziale Aspekte betrachten, haben im Schnitt höhere Spielzeiten \cite{Ducheneaut.2006}, bei älteren Spielern sind es bis zu 30 Stunden pro Spiel der Durchschnitt. Die gesamte Spielzeit eines Spiels von 30 Stunden steht daher im Kontrast zu einer Anzeige  die eine Sichtbarkeit von wenigen Sekunden besitzt, da sie einfach übersprungen werden kann.
\\\\
Eine andere Möglichkeit stellen so genannte Advergames dar. Bei diesen handelt es sich um Spiele die rein auf dem zu bewerbenden Produkt bzw. der Dienstleistung selbst fokusiert sind. Diese haben einen deutlich größeren Einfluss auf die entsprechende Zielgruppe. Allerdings werden hierbei vor allem Personen angesprochen die Spielen gegenüber offen sind.\cite{Winkler.2006} \textcite{Chen.2001} und \textcite{Dahl.2009} beschreiben, dass jüngere Personen bis zu 100 mal mehr spielen als ältere. Der Kunde nimmt die Marke durch Advertgames deutlich mehr wahr im Vergleich zu anderer Werbung.
Die Möglichkeiten für die Integration von Produkten sind vielfältig. Neben der passiven Einbindung des Produktes in die Spielumgebung, kann das Produkt auch selbst als Spielelement dienen (vgl. Colgate 1992: Harald Hårtand -- kampen om de rene tænder).
Darüber hinaus könnte im Fall eines ortsbezogenen Spieles der Händler/Dienstleister im Spiel selbst als Pendant seines Händlers in der Realität auftreten. D.h. ein Händler stellt im Spiel selbst einen Händler für Spielitems dar.
Somit lässt sich die Einbindung generell in zwei Arten unterteilen. Einmal als aktiv für den Spielausgang entscheidendes Element (z.B: als POI für TicTacToe) oder aber als Vendor Element welches der Spieler aufsuchen kann.
Im Hinblick auf die Spieleitems sollten diese vorzugsweise im Zusammenhang mit dem Händler und der Spielthematik stehen. Je besser sich diese in das Spiel integrieren, desto eher werden sie vom Spieler als plausibel wahrgenommen. Dies wiederum hat einen positiven Effekt für die Wahrnehmung.
Ein Beispiel für die Integration könnte z.\,B. ein Supermarkt sein, welcher Essen anbietet. Dieses kann wiederum vom Spieler zur Auffrischung der Energie verwendet werden. Ein anderes Item könnte eine Schaufel darstellen, welche beim lokalen Baumarkt gekauft und im Spiel zum Bauen von eigenen Gebäuden verwendet werden kann.
\\\\
Abschließend lässt sich feststellen, dass das Framework entsprechend modular aufgebaut sein muss um später erweitert zu werden. Dies soll vor allem der Erweiterbarkeit und der Portabilität dienen. Eine Portabilität ist notwendig, da ein ortsbezogenes Spiel auf entsprechenden Endgeräten gespielt wird. Da das Framework vor allem  für Smartphones genutzt werden soll, ist es daher wichtig entsprechend die Spielelemente für den Spieler aufzubereiten. Hierzu gibt es verschiedene Möglichkeiten.
Generell gibt es unterschiedliche Smartphone Betriebssysteme deren Marktanteile sich je nach Region unterscheiden.
Ein Vergleich zeigt Abbildung \ref{img:ch4_img02_marketshare}, welche die aktuelle globale Verteilung der mobilen Betriebssysteme aufzeigt.

\begin{figure}[H]
\begin{center}
\includegraphics[width=140mm]{images/ch4_img02_marketshare.png}
\caption{Globale Mobile Betriebsysteme in Anlehnung an \textcite{Gartner.2013} -- Bild: \cite{Wikipedia.2014}}
\label{img:ch4_img02_marketshare}
\end{center}
\end{figure}

Die aktuelle Verbreitung von ca. 80\% Android, 18\% iOS und 3\% Windows Phone bei Smartphones stellt die Frage, für welche der besagten Plattformen man Anwendungen erstellen möchte.
Die erste Möglichkeit Mobile Anwendungen zu erstellen sind native Apps. Die zweite Möglichkeit sind Web-Apps \cite{Charland.2011}.
Der Unterschied beider liegt im Aufwand der Implementierung, der Ausführgeschwindigkeit, Zugriff auf die Hardware und dem unterschiedlichen Deployment.
Native Apps erreichen in den entsprechenden Appstores und bieten Zugriff auf diverse Hardware Funktionen.
Konkret für das Geogameframework sind zweierlei Dinge wichtig.

\begin{itemize}
\item Möglichst wenig Aufwand für das Deployment
\item Zugriff auf GPS Korrdinaten
\end{itemize}

Dies kann sowohl über native  Apps als auch über eine Web Applikation bewerkstelligt werden. Entsprechende SDKs der jeweiligen Hersteller bieten per API Zugriff auf die GPS Schnittstelle. Für Web-Apps kann im Zuge von HTML5 ebenfalls auf eine GPS Ortung zurückgegriffen werden \cite{Holdener.2011}. Um den Entwicklungsaufwand für Web-Apps zu reduzieren, kann es sinnvoll sein auf entsprechende Webframeworks zusetzten. Dadurch müssen grundlegende Funktionalitäten nicht erneut entwickelt werden.
Eine entsprechende Entscheidung ist in diesem Fall abhängig von den Anforderungen. Eine entsprechende Auswahl wird in Kapitel \ref{ch:S5_Umsetzung} getroffen.

Abschließend lassen sich die einzelnen Anforderungen des Gameframeworks wiefolgt zusammenfassen:

\begin{itemize}
\item einfaches Staging der Spiele
\item Modularisierung der Funktionen für Gamification/Spielmechanik
\item Verarbeitung von Geodaten
\item OSM-Daten Transformation/Aufbereitung
\item Einfache Erweiterbarkeit der Spielmechanik
\item Einbindung der lokalen Händler
\item Modularer Aufbau
\end{itemize}


\subsection*{Relokalisierbarkeit von ortsbezogenen Spielen}

Für die Relokalisierbarkeit von Spiefeldern wurden in Kapitel \ref{ch3:s:Relokalisierung} erste Ansätze in der Literatur identifiziert. Diese beziehen sich allerdings speziell auf spatial discrete Spiele.
Generell erfolgt die Unterteilung in die zuvor identifizierten Möglichkeiten.
Es kann entweder keine Anpassung, eine vollständige Anpassung oder ein Hybrid Ansatz erfolgen. Der ideale Fall stellt eine vollständige Anpassung und damit Relokalisierbarkeit eines Spiels ohne das manuelle Anpassen durch einen Spielleiter dar. Hier für gibt es in der Literatur allerdings keine konkreten Ansätze. Vielmehr werden konkrete Spiele wie REXplorer \cite{Ballagas.2007} oder GeoTicTacToe \cite{Kiefer.2007} durch eine vorgegebene Liste an POIs adaptiert. Hierzu wird zu einem optimalen Spielfeld in einer Stadt das jeweils beste der anderen Stadt gefunden.
Einen nutzbaren Ansatz für die automatisierte evaluierte Relokalisierung gibt es hierbei allerdings nicht.
Ein Ansatz der sich aus der Hypothese herausbildet, ist der Versuch Aufgrund bestehender Geodatenbanken -- konkret OpenStreetMap -- eine Relokalisierung zu erreichen. Hierbei müssen allerdings neben der bereits angesprochenen Transformation der Relationen, Ways und Nodes auch eine Auswahl der entsprechenden Spielelemente stattfinden. Denkbar sind hierbei zwei Ansätze. Um ein \glqq gutes Spielfeld\grqq{} zu identifizieren und somit eine Relokalisierung für gut zu befinden muss entsprechend ein Evaluationsansatz existieren. Ansätze zur Evaluation von Spielfeldern sollen im Kapitel \ref{ch:S6_Evaluierung} näher betrachtet werden. Generell kann zwischen einer Echtzeit-Evaluation und einer Offline-Evaluation unterschieden werden. Jedes Form hat ihre eigenen Vor- und Nachteile.

Bei einer Echzeitevaluation der Spielfelder liegt der Vorteil in der völligen Automatisierung der Auswahl der Spielelemente. Diese führt zu weniger Aufwand für den entsprechenden Spielleiter, der ein Spiel ausrichten möchte. Allerdings muss gleichzeitig der zu verwendende Algorithmus in Echtzeit zu einem entsprechenden Ergebnis für die Auswahl der Spielelemente kommen. Da die Pervasive Games selbst in Echtzeit laufen kann ein entsprechender Algorithmus keine größere Komplexität aufweisen. Die Echzeitanforderung begrenz daher die Laufzeit des Algorithmus und führt somit zu einer eingeschränkten Qualität der Spielfelder.

Im Gegensatz dazu steht eine Evaluation und Auswahl der Spielelemente vor bzw. unabhängig vom Staging. Die Vorteile sind die mögliche Komplexität des Algorithmus, sowie die damit verbundene Qualität der Spielfelder. Ein Nachteil ist allerdings, dass eine Evaluation der Spielfelder im Voraus erfolgen muss. Da bei einem Pervasive Game allerdings das Spielfeld die ganze Welt darstellt, ist eine Laufzeit stark abhängig vom Algorithmus sowie der Datenbasis.

Eine andere Möglichkeit stellt ein hybrider Ansatz dar. Dabei wird ein Teil der Evaluation ausgelagert und es bleibt ein weniger komplexer Teil für die Echzeitberechnung übrig. Eine Möglichkeit wäre es z.\,B. im Voraus eine Selektion der Spielelementtypen und die konkrete Auswahl in diesem Subset an Daten während der Laufzeit zu machen. Beispielsweise mit OSM könnte im Voraus zunächst eine Auswahl der Kategorisierung anhand eines key-value Paars erfolgen (highway=bustop) und im Anschluss wird während der Laufzeit entschieden ob entsprechende Objekte zu dicht beieinander liegen. Dann könnten die Elemente entsprechend außer acht gelassen werden oder bei zu geringer Verbreitung entsprechende dummy-Elemente eingefügt werden.

\subsection*{Freie Geobasisdaten und Möglichkeiten der kommerziellen Nutzung}

In Kapitel \ref{ch3:s:offeneGeodaten} wurden entsprechende öffentliche Geodatenbanken identifiziert welche Geodaten enthalten, die für eine Nutzung für ein ortsbezogenes Spiel in Frage kommen. Von diesen hat sich lediglich OSM als brauchbar und mit entsprechender Daten-Qualität erwiesen. Untersucht man OpenStreetMap bezüglich seiner Lizenz für die Verwendung in kommerziellen Projekten, so lässt sich zunächst der Wechsel der Lizenz im Jahre 2012 auf ODbl erkennen \cite{Ramthun.2012}.

Vergleicht man die Anforderungen eines Gameframeworks an die entsprechenden Geodaten so ist der Aspekt der Lizenzierung wichtig. Im Vergleich zu anderen Open Source Lizenzen ist eine kommerzielle Nutzung möglich ist, ohne den Quellcode des Programmes oder die zusätzlicher externen Datenquellen selbst zu veröffentlichen.
Die OBdl in Version 1.0 \cite{Odbl.2014} beschreibt hierbei, dass ein Auszug aus der Datenbank selbst als Derivative Database anzusehen ist. D.h. konkret in Verbindung mit OSM, dass das Ergebnis einer Abfrage an den OSM Server als Datenbank anzusehen ist, welche nach Odbl zu behandeln ist. Der Nutzer, hier: Betreiber, ist verpflichtet, wenn die OSM Daten selbst modifiziert werden oder in irgend einer Weise aufgewertet/aufbereitet und der Öffentlichkeit (über das Internet) zur Verfügung gestellt werden, diese ebenfalls öffentlich zu machen. Eine private Verwendung muss nicht veröffentlicht werden. Gleiches gilt für die zusätzlichen externen Datenquellen welche mit den OSM Daten vermengt werden. Dies können zum Beispiel kommerziell eingekaufte Höhenprofile oder Landschaftsaufnahmen sein. Diese bleiben somit davon unberührt.

Nach UNtersuchung  der Pflichten, die durch die Nutzung der ODbl in Verbindung mit OSM entstehen, lässt sich feststellen, dass eine Nutzung der OSM Daten juristisch unbedenklich ist. 
Die Anforderungen des Gameframeworks sind mit der Lizenz vereinbar.
Allerdings müssen die abgerufenen Daten über eine dokumentierte Schnittstelle wieder zur Verfügung gestellt werden können.
Wie eine Dokumentation und zur Verfügungsstellung der Daten im Detail aussieht ist nicht näher spezifiziert. Hier eignet es sich eine bestehende Schnittstelle zu erweitern. Im Entwurf des Frameworks ist kann eine bestehende Schnittstelle so erweitert werden, dass diese entsprechend die Daten zur Verfügung stellt. Idealerweise stellt dies eine Schnittstelle dar, die analog zur Datenaufbereitung für das Spielfeld dient. Alternativ könnte, um die Performance des Spiels nicht zu beeinträchtigen, ein separater Server dafür abgestellt werden. Dieser bietet die gleiche Funktionen, aber verhindert, dass durch die Abfrage von größeren Datenmengen das laufende Spiel beeinträchtigt wird.

\section{Gewählter Lösungsansatz}
\label{ch4:s:choosen_solution}

Betrachtet man die in Kapitel \ref{ch1:Einleitung} beschriebene Forschungsfrage, so ist der Fokus der Arbeit vor allem auf der Untersuchung einer Möglichkeit zur möglichst einfachen Aufbereitung von Spielfelder zu sehen, bei denen der Spielveranstalter so wenig wie möglich sich selbst einbringen muss. Darüber hinaus sollen die lokalen Händler/Dienstleister in das Spiel eingebunden werden, damit diese entsprechend einen Mehrwert durch Kundenbindung erfahren.
Da der Fokus auf die Aufbereitung und Evaluation der Spielfelder gelegt wurde, werden für das Beispielspiel nur ein teil der Aspekte umgesetzt.

Für die Gamification selbst ist es nach Analyse der Möglichkeiten am sinnvollsten sich überwiegend auf die Basis Elemente Points Badges und Leaderboards zu beschränken. Spätere Elemente die \textcite{Zichermann.2011} herausgearbeitet haben, sollten entsprechend einfach erweiterbar sein, aber nicht den Fokus darstellen. Um die einzelnen Aspekte besser zu verdeutlichen, werden die verwendeten Aspekte am Beispielspiel erläutert.
\\\\
Das Beispielspiel selbst stellt eine abgewandelte Variante des beliebten Capture The Flag-Spielmodus dar.\cite{Atkin.1999}
Es gibt verschiedene Flaggen auf dem Spielfeld. Diese Flaggen symbolisieren entsprechende POIs, welche auf Basis des Gameframeworks unter der Nutzung von OSM generiert wurden. Dem Spieler stehen entsprechende Aktionspunkte zur Verfügung, welche er einsetzten kann um diese Flaggen zu besetzten. Jeder eingesetzte Aktionspunkt, führt zu \glqq Prestige\grqq{} auf der Flagge. Der Spieler kann Flaggen, welche von fremden Spielern bereits besetzt wurden übernehmen, in dem er diese durch den Einsatz seiner Aktionspunkte um deren Prestige verringert bis diese neutral sind. Neutrale Flaggen kann der Spieler wiederum einnehmen. Dem Spieler stehen pro Tag 24 Aktionspunkte zur Verfügung. Jede Stunde erhält der Spieler einen Aktionspunkt, sofern er noch nicht mindestens 24 Aktionspunkte hat. Durch den Kauf von Items über Händler, kann der Spieler seine Fähigkeiten verbessern. Der aktuelle Punktestand wird dem Spieler entsprechend angezeigt.
Dieser berechnet sich aus dem Prestige aller Flaggen die dem Spieler angehören. 
In einer späteren Version des Frameworks,  kann sich der Spieler mit Spielern aus seiner geografischen Nähe, sowie seinen Mitspielern in der Rangliste unter und über ihm messen.
\\\\
Die Wahl fiel auf ein unkompliziertes Spiel fiel. Eine einfache Spielmechanik wurde gewählt, da der Fokus auf der Generierung der Spielelemente lag. Ein weiterer Grund ist das Aufzeigen der Anpassbarkeit des Frameworks. Die Repräsentation der Spielelemente durch einfache POIs ist generisch genug für die Verwendung des Geogameframeworks. Somit können sowohl für Pervasive Games als auch für Geogames Spielfelder erzeugt werden. Die Spielmechanik, welche an Capture the Flag erinnert, ist besonders beliebt bei Spielern und hat sich auch in bestehenden Pervasive Games bewährt.\cite{Bell.2006,Ingress.2014} Darüberhinaus erfüllt es in der genannten Abwandlung bereits einige Aspekte der Gamification Elemente. So wird der Status des Spielers bzw. sein \glqq Prestige\grqq{} direkt anhand der Flaggen auf dem Spielfeld sichtbar. Er kann sich auch mit anderen Spielern messen und seine Interaktion mit dem Spielfeld wird für die anderen Spieler direkt in Echtzeit ersichtlich.
Die Einführung der Aktionspunkte für die Interaktion mit der Umgebung hat zwei Intentionen. Zum einen soll sichergestellt werden, dass die ortsbezogenen Affordanzen für die einzelnen Spieler normalisiert werden. Hiermit wird versucht ein quasi Handicap für besonders aktive und sich schnell fortbewegenende Spieler zu erstellen. Es wird darüber hinaus verhindert, dass der Spieler sich nur kurz in bestimmten Regionen aufhält und das Spiel somit zu einem Rennspiel verwandeln würde.\cite{Schlieder.2005} Ein weiterer Nebeneffekt ist die Reduzierung von möglichen Betrugsversuchen, da selbst eine Automatisierung der Spielerclients durch z.\,B. Bots keinen entscheidenden Vorteil bringt.\cite{Golle.2005} Durch die Limitierung der Aktionspunkte auf 24 pro Tag wird der Spieler animiert, aktiv zu spielen. Items, welche der Spieler von Händlern kaufen kann, sollen als Gegenstand dem Spieler repräsentiert werden. Der Gegenstand ist nicht nur einfach beim Händler kaufbar und im Inventar verwendbar , sondern auch mit anderen Spielern teilbar. Die Idee dahinter zielt auf die beliebten Rollenspiel Elemente ab und soll dazu dienen, dass Spieler miteinander z.\,B. durch einen Handel interagieren. Speziell die Spielertypen Socializer werden hier angesprochen. Aber auch Explorer kommen hier zum Zug, da die Items bzw. Itemtypen nicht starr festgelegt sind und somit jede Region oder jeder Händler individuelle Items besitzen kann. Die Händler selbst werden hier als nicht gewinnbringendes Spielelement aktiv. Die Entscheidung, dass die Händler nicht selbst als POIs auftreten, hat zwei Gründe. Zum einen sollen die Händler nicht von Spielern \glqq besetzt\grqq{} werden, damit keine Assoziation hinsichtlich \glqq Besitz\grqq{} der Händler stattfindet. Zum anderen soll eine gewisse Modularisierung stattfinden. Sofern sich die Bedingungen bzw. die Auswahl der POIs verändert, können die Händler unabhängig vom generierten Spielfeld am Spiel teilnehmen. Somit kann das Framework auch in einem anderen Zusammenhang verwendet werden. Es kann zusätzlich eine feine Selektion der teilnehmenden Händlern stattfinden.
Die Integration eines Leaderboards ermöglicht es den Spielern sich mit geografisch- und punktnahen Spielern zu messen. Dies ist vor allem für die Spielertypen Achiever und Killer relevant. Diesen wird darüber hinaus die Möglichkeit gegeben gezielt Spielern zu schaden, wenn sie explizit Flaggen eines bestimmten Spielers angreifen.
\\\\
Für die Anforderungen des Geogameframeworks wurde entschieden, dass  entsprechende Spielfelder unabhängig vom darauf aufbauenden Spiels generieren werden sollen. Das Beispielspiel wird somit als Proof of Concept des darunterliegenden Frameworks agieren.
Es soll ein entsprechendes Webframework verwendet werden, welches die Daten über eine entsprechende Schnittstelle dem Spiel zur Verfügung stellt. Dabei sollen bestehende Technologien genutzt werden um den Implementierungsaufwand auf das Framework zu konzentrieren und nicht auf die Tools für die Konfiguration und Darstellung.
Für die Basis der Geodaten wird auf OSM zurückgegriffen werden, und die damit verbundenen Lizenzanforderung der Verfügbarkeit der verwendeten Daten analog über eine Schnittstelle erfolgen. Die Daten selbst werden nicht über die OSM API, sondern die Overpass API ausgelesen, da diese spatiale Abfragen erlaubt.
Für die Auswahl der Spielelemente wird ein Hybrid Ansatz gewählt. Bei diesem wird ein Teilselektion der Spielelemente ausgelagert.
Die Idee ist es dabei in Echtzeit während des Spielverlaufs Spielfelder erzeugen zu können und gleichzeitig eine entsprechende Evaluation zu bieten. Hierzu wird demjenigen, der ein Spiel durchführen möchte, ein Tool an die Hand gegeben, welches für bestimmte Regionen OSM key-value Paare evaluiert. Durch die Festlegung auf ein spezielles Tag für die Selektion der Daten kann der Veranstalter wiederum durch eine einfache Konfiguration eines Parameters, sicherstellen, dass die Spielfelder entsprechend homogen über verschiedene Orte funktionieren. Im Framework selbst wird der entsprechende Tag dann für die Extraktion der Spielelemente verwendet und wiederum intern durch die in Kapitel \ref{ch4:s:Lösungen} beschriebene Transformation umgewandelt. Bei der Transformation wird jedoch das einfache arithmetischen Mittel der umfassenden Bounding Box gewählt, da dieses auch bei größeren Datenmengen zu einem zufriedenstellendem schnellen Ergebnis führt. Hierzu werden wie beschrieben Relation und Ways in virtuelle Nodes aufgelöst. Da Relationen selbst wiederum Relationen, Ways und Nodes enthalten können, müssen diese entsprechend rekursiv aufgelöst werden. Hierzu werden Ways zu einer Liste von Nodes aufgelöst und entsprechend zu einem virtuellen Node aggregiert. Dies wurde durch entsprechende Tests evaluiert und basierend auf den Laufzeiten entschieden. Hierbei ist anzumerken, dass die Ladezeit des Spielfeldes auf einem mobilen Client zum Großeil aus dem Laden der Maptiles besteht. Eine Verzögerung im von mehr als 400ms im Spiel wird vom Benutzer wahrgenommen und als störend empfunden.\cite{Gutwin.2004} Daher ist es unerlässlich eine schnelle Generierung der Spielfelder sicherzustellen. 
Eine Möglichkeit um dieses Problem zu umgehen wäre das Caching der Ergebnisse. Gegen dieses wurde sich jedoch bewusst entgegen entschieden. Für jedes von OSM ausgelesene Objekt würde eine entsprechende Persistierung in der lokalen Datenbank stattfinden.
Dies ist auch der Fall wenn keinerlei Interaktion mit diesem stattfindet. Um Nur ein Bruchteil der Daten speichern zu müssen und somit die Datenbank zu entlasten, wurde sich gegen ein Caching entschieden. Ein weiterer Grund ist die Tatsache, dass eventuelle Änderungen der Daten bei OSM mit einem entsprechenden Aktualisierungs-Mechanismus übertragen werden müssten.
Das Framework selbst soll mittels webbasiertes Framework erfolgen.
Zwar dann der Einsatz diverser Hardware Funktionen auf Seiten der Smartphones nicht möglich, aber der Entwicklungsaufwand wird erheblich reduziert. Zudem ist die Anwendung auf alle aktuellen Mobilen Betriebssystemen verwendbar.
\\\\
Für die Interaktion mit dem Händler ist vorgesehen, dass der Spieler geografisch in die Nähe kommt. Er soll die jeweiligen Läden der Händler explizit besuchen. Da durch die Nutzung einer webbasierten Lösung die Hardware wie Bluetooth, NFC oder Kamera des Smartphones nicht zu Verfügung stehen, muss auf die GPS Daten zurückgegriffen werden.
Hierbei stellt sich allerdings die Herausforderung, dass der GPS Empfang in Gebäuden je nachdem nur schlecht oder gar nicht vorhanden ist. Gleiches gilt für die mobile Datenverbindung. Daher bietet es sich als Option mit Coupon-Code zu arbeiten. Der Spieler erhält diesen vom Händler, welchen er dann später, sobald er wieder mobilen Datenempfang hat, in das Spiel eingeben kann. Danach erhält er das entsprechende Item. Darüber hinaus funktioniert diese Methode auch ohne Probleme mit älteren Smartphones. Die Coupon-Codes kann der Händler gegen eine Gebühr vom Spielbetreiber erhalten. Vorstellbar wäre z.\,B. 100€ für 100 Interaktionen. Vergleicht man diese Preise mit den üblichen Kosten für Cost-Per-Click (CPC) Werbung wie z.\,B. bei Google Adwords, so bietet sich dem Spielbetreiber hier eine entsprechend kostengünstige und effektive Möglichkeit die Spielinfrastruktur und den operativen Betrieb zu refinanzieren.\cite{Guerini.2010} Für den Begriff Supermarkt im Raum Hamburg sind CPC von 1-2€ der Durchschnitt. Auch im Raum Bamberg fallen Kosten von 0,5€ an.\footnote{Abruf 05.03.2014 -- Google Adwords Keyword Planer} Im Gegenzug erhält der Händler eine physische Interaktion des Spielers, die viel wertvoller ist, als der Aufruf seiner Homepage. Ein direkter Kontakt des Spielers mit dem Point of Sales wird eher zu einem Kauf führen als der Besuch einer Homepage. Hier wird auch die Problematik zwischen Online und Offline bewusst aufgegriffen. Der offline Händler kann somit aktiv vom Internet profitieren und dem Internet affinen Nutzer einen Mehrwert bieten. Beispielsweise könnte  der Händler die Coupon Codes z.\,B. auf dem Kassenzettel unterbringen. Damit gibt sich dem Händler zusätzlich die Möglichkeit direkte Käufer zu belohnen.

Für das Beispielspiel werden die Itemtypen nicht näher festgelegt. Testweise wird ein Itemtyp eingeführt werden, welcher die Maximale Aktionspunkte um 10 AP anhebt. Dies soll dem Spieler ein taktisches Vorgehen ermöglichen.
